{"name":"Blaubot","tagline":"The Blaubot Library","body":"Blaubot\r\n=======\r\nBlaubot is a lightweight framework to form small networks via P2P connections such as Bluetooth-RFCOMM, Adhoc-WiFi or simple socket connections.\r\nBlaubot takes care of device discovery and connection establishment with the goal to minimize a developer's boilerplate code to set up these small networks.\r\n\r\nTl;dr our main goal is to let a developer call start(); and spare him as much hassle as possible to create ad hoc networks.\r\n\r\nRequirements Android\r\n=======\r\nAndroid 4.0.3 or higher\r\n\r\n<a name=\"general_usage\"></a>General Usage\r\n=======\r\n1) Obtain a Blaubot instance from a BlaubotFactory\r\n```java\r\n// Generate a UUID that is unique for your application\r\n// see http://www.famkruithof.net/uuid/uuidgen\r\nfinal UUID APP_UUID = UUID.fromString(\"ec127529-2e9c-4046-a5a5-144feb30465f\"); \r\nBlaubot blaubot = BlaubotAndroidFactory.createEthernetBlaubot(APP_UUID);\r\n```\r\n2) (optional) Register a ILifecycleListener to the Blaubot instance\r\n```java\r\nblaubot.addLifecycleListener(new ILifecycleListener() {\r\n\t\t\t\r\n\t@Override\r\n\tpublic void onPrinceDeviceChanged(IBlaubotDevice oldPrince,\tIBlaubotDevice newPrince) {\r\n\t    // if the network's king goes down, the prince will rule over the remaining peasants\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onDisconnected() {\r\n\t \t// THIS device disconnected from the network\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onDeviceLeft(IBlaubotDevice blaubotDevice) {\r\n\t  // ANOTHER device disconnected from the network\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onDeviceJoined(IBlaubotDevice blaubotDevice) {\r\n\t  // ANOTHER device connected to the network THIS device is on\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onConnected() {\r\n\t  // THIS device connected to a network\r\n\t  // onDeviceJoined(...) calls will follow for each OTHER device that was already connected\r\n\t}\r\n\t\r\n});\r\n```\r\n3) Start Blaubot\r\n```java\r\nblaubot.startBlaubot();\r\n```\r\n4) Create a Channel \r\n```java\r\nfinal short channelId = (short) 1;\r\nfinal IChannel channel = blaubot.createChannel(channelId);\r\n```\r\n4.1) Send messages to all subscribers of this channel\r\n```java\r\nchannel.post(\"Hello world!\".getBytes(Charset.forName(\"UTF-8\")));\r\n```\r\n4.2) Subscribe to the channel via channel.subsribe(<YourListener>) to receive messages\r\n```java\r\nchannel.subscribe(new IMessageListener() {\r\n\t\r\n\t@Override\r\n\tpublic void onMessage(BlaubotMessage message) {\r\n\t\t// we got a message - our payload is a byte array\r\n\t\t// deserialize\r\n\t\tString msg = new String(message.getPayload(), Charset.forName(\"UTF-8\"));\r\n\t\t// .. do something useful ..\r\n\t}\r\n\t\r\n});\r\n```\r\n\r\nIf you registered the listener in step 2, you will be informed if your own device or other devices join or leave a network.\r\n\r\nQuickstart Java\r\n=======\r\n1. Get the General-JAR and add it to your project's dependencies.\r\n2. Create a Blaubot instance using de.hsrm.blaubot.core.BlaubotFactory\r\n```java\r\n// creates a Blaubot instance with a multicast beacon on the first found local interface\r\nde.hsrm.blaubot.core.BlaubotFactory.createEthernetBlaubot(APP_UUID);\r\n\r\n// or create a Blaubot instance without multicast searching for a fixed set of devices by their ip addresses\r\nde.hsrm.blaubot.core.BlaubotFactory.createEthernetBlaubotWithFixedDevices(...);\r\n```\r\n\r\nYou can choose between a fixed set of devices to form net Blaubot network or to dynamically search and discover nearby running Blaubot instances via multicast from the Factory's methods. \r\nIf your targeted environment supports multicasts, this should be the easiest option for you to get your app working.\r\n\r\n\r\nQuickstart Android\r\n=======\r\n\r\n1) Import the BlaubotAndroidLibrary into your eclipse workspace:\r\n1.1) Right click in the Package view -> Import\r\n![1](img/1.png \"Right click in the Package view -> Import\")\r\n\r\n1.2) Choose import existing projects into Workspace\r\n![1](img/3.png \"Choose import existing projects into Workspace\")\r\n\r\n1.3) Import at least the BlaubotAndroidLibrary project\r\n![1](img/4.png \"Import at least the BlaubotAndroidLibrary project\")\r\n\r\n1.3) Create your project \r\n![1](img/5.png \"Create your project\")\r\n\r\n1.4) Right click the newly created project -> Properties\r\n![1](img/8.png \"Right click the newly created project -> Properties\")\r\n\r\n1.5) In the Android tab click add (bottom right) -> Select BlaubotAndroidLibrary -> Click ok\r\n![1](img/9.png \"In the Android tab click add (bottom right) -> Select BlaubotAndroidLibrary -> Click ok\")\r\n\r\n1.6) Copy the Blaubot.jar into the libs folder of YOUR project\r\n![1](img/10.png \"Copy the Blaubot.jar into the libs folder of YOUR project\")\r\n\r\n1.7) Right click the jar and choose: Build Path -> Add to Build Path\r\n![1](img/11.png \"Right click the jar and choose: Build Path -> Add to Build Path\")\r\n\r\n1.8) Add the permissions to your AndroidManifest.xml (you can copy them from the Blaubot project's AndroidManifest.xml)\r\n![1](img/12.png \"Add the permissions to your AndroidManifest.xml (you can copy them from the Blaubot project's AndroidManifest.xml)\")\r\n\r\n1.9) Attention: Ensure that you compile your project java 1.6 format compatible.\r\n![1](img/13.png \"Attention: Ensure that you compile your project java 1.6 format compatible.\")\r\n\r\n1.10) Add some blaubot code (see [General Usage](#general_usage))\r\n![1](img/14.png \"Add some blaubot code (see [General Usage](#general_usage))\")\r\n\r\n\r\n2) Create a Blaubot instance using de.hsrm.blaubot.android.BlaubotFactory\r\n```java\r\n// you can use the same ethernet based isntances as for java but additionally:\r\n\r\n// creates a Blaubot instance using Android's Bluetooth API\r\nde.hsrm.blaubot.android.BlaubotFactory.createBluetoothBlaubot(APP_UUID);\r\n```\r\n\r\n3) You are now ready to use Blaubot. Check the [General Usage](#general_usage) section how to use it.\r\n\r\nOn Android you can rely on the standard ethernet-based Blaubot (see Quickstart Java) but you can also use the Bluetooth-based Blaubot.\r\nPlease note that you have to use a different Factory to create Blaubot instances optimized for the Android platform.\r\n\r\nNote that if you use Bluetooth, Blaubot will only find devices that are paired with each other. This means if you want to connect three devices, all of them need to be paired with the others.\r\n\r\nWe recommend to create a sticky [Android Service](http://developer.android.com/guide/components/services.html) to encapsulate the Blaubot instance.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}